@use "_base" as *

html
  scroll-behavior: smooth

body
  margin: 0
  display: flex
  flex-direction: column

header
  padding: 1.5em 1em
  z-index: 50
  position: sticky
  top: 0

.content
  flex: 1 0 auto

main
  max-width: $max-one-col-width
  width: 90%
  margin: auto

main.has-toc
  max-width: $max-two-col-width
  display: grid
  grid-template-areas: "title" "toc" "article"

  h1
    grid-area: title

  article
    grid-area: article

  nav.toc
    grid-area: toc

footer
  margin-top: 2em
  padding: 1.5em 2em
  flex-shrink: 0

// offset anchors
:target:before
  content: ""
  display: block
  height: calc(1.5em * 2 + 1.1em)
  margin: calc(-1.5em * 2 - 1.1em) 0 0 0

img
  max-width: 100%

hr
  border: none
  border-top: 2px solid $heading-color
  margin: 3em 6em

@media (min-width: $breakpoint)
  header
    padding: 1.5em 2em

  main.has-toc
    grid-template-columns: 1fr 250px
    grid-template-areas: "title ." "article toc"
    column-gap: 2em

    nav.toc
      position: sticky
      top: calc(1.5em * 2 + 1.1em + 1em)
      align-self: start
