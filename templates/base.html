{# vim: filetype=htmldjango: #}

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="/style.css" />

    <title>
      {%- block title %}
        {%- if page.title -%}
          {{ page.title }} | {{ config.title }}
        {%- else -%}
          {{ config.title }}
        {%- endif -%}
      {% endblock title -%}
    </title>
    <meta name="author" content="
                                 {%- block authors %}
                                   {%- if page.authors -%}
                                     {{ page.authors | join(sep=", ")}}
                                   {%- else -%}
                                     {{ config.extra.short_title }}
                                   {%- endif -%}
                                 {% endblock authors -%}
                                " />
    <meta name="description" content="{% block description %}
                                        {%- if page.description -%}
                                          {{ page.description }}
                                        {%- elif page.summary -%}
                                          {{ page.summary }}
                                        {%- else -%}
                                          {{ config.description }}
                                        {%- endif -%}
                                      {% endblock description %}" />

    <script async src="/elasticlunr.min.js"></script>
    <script async src="/search_index.en.js"></script>
  </head>

  <body>
    {% include "_menu.html" %}

    {% block main_pre %}{% endblock main_pre %}

    <main class="{% block main_class %}{% endblock main_class %}">
      {% block main %}
      {% endblock main %}
    </main>

    <footer>
      <div class="footer-inner">
        <a href="mailto:{{ config.extra.email }}">Email Us</a>
        <span>{{ config.extra.short_title }} &copy; 2023</span>
      </div>
    </footer>

    <script defer src="/js/script.js"></script>
    <script defer src="/js/search.js"></script>
  </body>
</html>
